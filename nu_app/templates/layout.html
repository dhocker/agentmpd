<!DOCTYPE html>
{#
# AgentMPD - web app for controlling an mpd instance
# Copyright (C) 2015  Dave Hocker (email: AtHomeX10@gmail.com)
#
# This program is free software: you can redistribute it and/or modify
# it under the terms of the GNU General Public License as published by
# the Free Software Foundation, version 3 of the License.
#
# This program is distributed in the hope that it will be useful,
# but WITHOUT ANY WARRANTY; without even the implied warranty of
# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
# See the LICENSE file for more details.
#
# You should have received a copy of the GNU General Public License
# along with this program (the LICENSE file).  If not, see <http://www.gnu.org/licenses/>.
#}

<html ng-app="{{ ngapp }}" ng-controller="{{ ngcontroller }}" lang="en">
    <title>AgentMPD</title>

    <head class="page">
        {# This uses the latest stable distribution of Bootstrap, jQuery and AngularJS #}
        {# This project uses private copies of angularJS and jQuery mainly because the CDN's
        performance is somewhat random and negatively affected development. #}
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
        <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='bootstrap-custom.css') }}">
        <link rel="stylesheet" href="//code.jquery.com/ui/1.11.4/themes/smoothness/jquery-ui.css">

        {#<script src="http://code.jquery.com/jquery-1.11.3.js" type="text/javascript"></script>#}
        <script src="{{ url_for('static', filename='js/jquery-1.11.3.min.js') }}" type="text/javascript"></script>
        <script src="//code.jquery.com/ui/1.11.4/jquery-ui.js" type="text/javascript"></script>
        <script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
        {#<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.2/angular.min.js" type="text/javascript"></script>#}
        <script src="{{ url_for('static', filename='js/angular.min.js') }}" type="text/javascript"></script>

        <link rel="shortcut icon" href="{{ url_for('static', filename='favicon.ico') }}">

{#
        <link rel="stylesheet" href="//code.jquery.com/ui/1.11.4/themes/smoothness/jquery-ui.css">
        <script src="//code.jquery.com/jquery-1.11.3.js" type="text/javascript"></script>
        <script src="//code.jquery.com/ui/1.11.4/jquery-ui.js" type="text/javascript"></script>
        <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.2/angular.min.js" type="text/javascript"></script>
        <script src="{{ url_for('static', filename='js/superfish.min.js') }}" type="text/javascript"></script>
        <script src="{{ url_for('static', filename='js/hoverIntent.js') }}" type="text/javascript"></script>
        <link rel="shortcut icon" href="{{ url_for('static', filename='favicon.ico') }}">
        <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='style.css') }}">
        <link rel="stylesheet" type="text/css" media="screen" href="{{ url_for('static', filename='superfish.css') }}">
#}

        <script>
            $( document ).ready(function() {
                // Handler for .ready() called.
            });
        </script>

        {# Insert point for menu and other header content #}
        {% block head %}
        {% endblock %}

        {# Common modal messagebox #}
        <div class="modal fade" id="menu-messagebox" role="dialog">
            <div class="modal-dialog">

                <!-- Modal content-->
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                        <h4 class="modal-title">{= messagebox_header =}</h4>
                    </div>
                    <div class="modal-body">
                        <p>{= messagebox_body =}</p>
                    </div>
                    <div class="modal-footer">
                        <button type="button" id="messagebox-close-btn" class="btn btn-primary" data-dismiss="modal">Close</button>
                    </div>
                </div>

            </div>
        </div>
    </head>

    <body class="page">
        <div class="container">
            <div class="panel panel-danger" ng-if="error != ''">
                <div class="panel-heading">Error</div>
                <div class="panel-body">{= show_error() =}</div>
            </div>
        </div>

        {% for category, message in get_flashed_messages(with_categories=true) %}
            <div class="flash">{{ category | capitalize() }}: {{ message }}</div>
        {% endfor %}

        {% block body %}
            {# The meat of the page goes here. For angularjs apps, this is the main content. #}
        {% endblock %}
    </body>

    <footer>
        <div class="container">
            <div class="row">
                <div class="col-md-3">
                    <a href="{{ url_for('mpd_player') }}"><img class="logo" src="{{ url_for('static', filename='agentmpd64.png') }}" width="16"/></a>
                    <a href="http://www.musicpd.org"">MPD Protocol Version {{ mpd_version }}</a>

                    {% block footer_links %}{% endblock %}
                </div>

                <div class="col-md-9 text-right">
                    <a href="{{ url_for('about') }}">About AgentMPD Version {{ release_version }} on {{ hostname }}</a>
                    </br>
                    <span>&copy; 2015, 2016 by Dave Hocker</span>
                </div>

            </div>
        </div>
    </footer>

    {# Javascript code for the home layout menu #}
    <script src="{{ url_for('static', filename='js/app.js') }}" type="text/javascript"></script>

    {% block angularjs%}
        {# Include page specific angularjs scripts here #}
    {% endblock %}

</html>