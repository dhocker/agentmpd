{#
# AgentMPD - web app for controlling an mpd instance
# Copyright (C) 2015  Dave Hocker (email: AtHomeX10@gmail.com)
#
# This program is free software: you can redistribute it and/or modify
# it under the terms of the GNU General Public License as published by
# the Free Software Foundation, version 3 of the License.
#
# This program is distributed in the hope that it will be useful,
# but WITHOUT ANY WARRANTY; without even the implied warranty of
# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
# See the LICENSE file for more details.
#
# You should have received a copy of the GNU General Public License
# along with this program (the LICENSE file).  If not, see <http://www.gnu.org/licenses/>.
#}

{% extends "layout.html" %}

{% block head %}
    <nav class="navbar navbar-inverse">
        <div class="container">
            <div class="navbar-header">
                <a class="navbar-brand" href="{{ url_for('home') }}"><img src="{{ url_for('static', filename='agentmpd64.png') }}" width="24"/> AgentMPD</a>
            </div>

            <div>
                <ul class="nav navbar-nav" id="menu">
                    <li>
                        <a id="menu-player" href="{{ url_for('home') }}">Player</a>
                    </li>
                    <li class="dropdown">
                        <a id="menu-playlist" class="dropdown-toggle" data-toggle="dropdown" href="#">Playlist <span class="caret"></span></a>
                        <ul class="dropdown-menu">
                            <li><a id="menu-playlist-clear" ng-click="menu_playlist_clear()">Clear</a></li>
                            <li><a id="menu-playlist-edit" ng-click="menu_playlist_edit()">Edit</a></li>
                            <li><a id="menu-playlist-save" ng-click="menu_playlist_save()">Save</a></li>
                            <li><a id="menu-playlist-rename" ng-click="menu_playlist_rename()">Rename</a></li>
                        </ul>
                    </li>
                </ul>
            </div>

        </div>
    </nav>

    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='home.css') }}">
{% endblock %}

{% block body %}
    <div class="container">
        <div class="row">
        <h2 class="col-md-12">Load/Append Playlist(s)</h2>
        </div>
        <h3>Available Playlists</h3>
        <div class="panel panel-default col-md-4">
            <div class="row" style="margin: 10px auto;">
                <div class="col-md-4">
                    <select id="available-playlists" multiple="multiple" size="{= playlist_size =}">
                        <option ng-click="enable_load()" value="{= p =}" ng-repeat="p in playlists">{= p =}</option>
                    </select>
                </div>
            </div>

            <div class="row" style="margin: 10px auto;">
                <div class="col-md-4">
                    <button id="load-button" class="btn btn-primary btn-md" ng-click="load_playlists()" title="Load/append selected playlist(s)">Load/Append Selected Playlist(s)</button>
                </div>
            </div>
        </div>

        <div class="row">
            <div class="col-md-12">
                <h3>Current Playlist</h3>
                <div class="panel panel-default">
                    <table class="table table-condensed table-striped table-hover table-fixed">
                        <thead>
                            <tr>
                                <th style="width: 5%">
                                    <button id="select-button" class="btn btn-primary btn-xs" ng-click="select_all()" title="Select all entries">Select</button>
                                </th>
                                <th style="width: 5%">#</th>
                                <th>Title/Name/Stream</th>
                                <th>Album</th>
                                <th>Artist</th>
                            </tr>
                        </thead>
                    </table>
                    <div class="table-fixed-content">
                        <table class="table table-condensed table-striped table-hover table-fixed">
                            <tbody>
                                <tr id="{= x.pos =}" ng-repeat="x in current_playlist.playlist">
                                    <td style="width: 5%"><input type="checkbox" id="check-{= x.pos =}" songid="{= x.id =}"></td>
                                    <td style="width: 5%">{= x.pos1 =}</td>
                                    <td>{= x.track =}</td>
                                    <td>{= x.album =}</td>
                                    <td>{= x.artist =}</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>

        <div class="row">
            <div class="col-md-4">
                <button id="remove-button" class="btn btn-primary btn-md" ng-click="remove_selected()" title="Remove selected playlist entries">Remove Selected Playlist Entries</button>
            </div>
        </div>

    </div>
{% endblock %}

{% block footer_links %}

{% endblock %}

{% block angularjs %}
    {# Include angularjs scripts here #}
    <script src="{{ url_for('static', filename='js/playlist.js') }}" type="text/javascript"></script>
{% endblock %}
